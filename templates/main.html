<main
  class="flex flex-grow flex-col p-4"
  x-data="{ running: false,
    seconds: 0,
    timer: null,
    startTimer() {
      this.timer = setInterval(() => this.seconds += 1 ,1000)
    },
    stopTimer() {
      clearInterval(this.timer)
    }
  }"
  x-on:stayahead:start="running = true; startTimer()"
  x-on:stayahead:stop="running = false; stopTimer()"
>
  <div class="text-center">
    <h1
      class="mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 dark:text-white md:text-5xl lg:text-6xl"
    >
      StayAhead
    </h1>
    <p
      class="mb-6 text-lg font-normal text-gray-500 dark:text-gray-400 sm:px-16 lg:text-xl xl:px-48"
    >
      A chair-flying training tool
    </p>

    <p
      class="mb-6 text-xl font-normal text-gray-500 dark:text-white sm:px-16 lg:text-2xl xl:px-48"
    >
      Phase: Takeoff
    </p>
  </div>
  <div class="flex items-center justify-center">
    <button
      class="mb-2 me-2 rounded-lg bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-gradient-to-br focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800"
    >
      Previous
    </button>
    <button
      type="button"
      class="mb-2 me-2 h-32 w-32 rounded-lg bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 px-5 py-2.5 text-center text-lg font-medium text-white hover:bg-gradient-to-br focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800"
      x-on:click="$dispatch(running ? 'stayahead:stop' : 'stayahead:start')"
      x-text="running ? 'STOP' : 'START'"
    ></button>
    <button
      type="button"
      class="mb-2 me-2 rounded-lg bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-gradient-to-br focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800"
    >
      Next
    </button>
  </div>

  <div class="mt-auto h-2.5 w-full rounded-full bg-gray-200 dark:bg-gray-700">
    <div
      x-bind:style="`width: ${seconds}%`"
      class="h-2.5 rounded-full bg-blue-600"
    ></div>
  </div>
</main>
